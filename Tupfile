include_rules

CFLAGS += -I. -Wno-main
CC = arm-none-eabi-gcc
LDFLAGS += -L ld -T lm3s.ld -nostartfiles

LM3S_SRC = init_vector.c init.c lm3s/adc.c lm3s/clock.c main.c
: foreach $(LM3S_SRC) |> !cc -DLM3S3748=1 -mcpu=cortex-m3 -include config/lm3s.h |> %B.o {lm3s_obj}
: {lm3s_obj} |> !ccld |> main.elf
